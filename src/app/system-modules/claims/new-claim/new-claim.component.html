<div style="padding-top:2px;">
    <section class="app-content-wrap content shadow-RB">

        <div class="nut-tab-topSect-wrap">
            <div></div>

            <div class="btn btn-medium btn-grey-outline" routerLink="/modules/claim/claims">
                <i class="fa fa-times"></i> CANCEL
            </div>
        </div>

        <form [formGroup]="claimsFormGroup" novalidate>
            <div class="frm-item-wrap">
                <label class="label">Patient Name</label>
                <div class="input-wrap">
                    <input type="text" formControlName="patientName" class="form-control" value="{{SelectedCheckinItem?.personObject?.firstName}} {{SelectedCheckinItem?.personObject?.lastName}} ">
                </div>
                <small class="alert-label" [hidden]="claimsFormGroup.controls.patientName.valid || claimsFormGroup.controls.patientName.pristine">
                    This is a required field (minimum 3 and max of 50 characters).
                </small>
            </div>
            <div class="frm-item-wrap">
                <label class="label">LASHMA ID</label>
                <div class="input-wrap">
                    <input type="text" formControlName="lashmaid" class="form-control" value="{{SelectedCheckinItem?.beneficiaryObject?.platformOwnerNumber}}">
                </div>
                <small class="alert-label" [hidden]="claimsFormGroup.controls.lashmaid.valid || claimsFormGroup.controls.lashmaid.pristine">
                    This is a required field.
                </small>
            </div>
            <div class="frm-item-wrap">
                <label class="label">Hospital Name</label>
                <div class="input-wrap">
                    <input type="text" formControlName="hospital" class="form-control" value="{{SelectedCheckinItem?.providerFacilityId?.name}}">
                </div>
                <small class="alert-label" [hidden]="claimsFormGroup.controls.hospital.valid || claimsFormGroup.controls.hospital.pristine">
                    This is a required field.
                </small>
            </div>
            <div class="frm-item-wrap">
                <label class="label">Health Plan</label>
                <div class="input-wrap">
                    <input type="email" formControlName="plan" class="form-control" value="{{SelectedCheckinItem?.policyObject?.planId?.name}}">
                </div>
                <small class="alert-label" [hidden]="claimsFormGroup.controls.plan.valid || claimsFormGroup.controls.plan.pristine">
                    This is a required field.
                </small>
            </div>
            <div class="frm-item-wrap">
                <label class="label">Encounter Type</label>
                <div>
                    <div class="input-wrap" style="justify-content:flex-start; margin-bottom:20px;">
                        <span style="margin-right:10px">
                          <label for="outPatient">
                              <input style="width: 30px;display: block;margin: 0 auto;" type="radio" [checked]="isOutPatient" formControlName="outPatient" name="outPatient" checked>
                              Outpatient
                          </label>
                      </span>
                        <span>
                          <label for="inPatient" >
                              <input style="width: 30px;display: block;margin: 0 auto;" type="radio"  [checked]="isInpatient" formControlName="inPatient" name="inPatient" checked>
                              Inpatient
                          </label>
                      </span>
                    </div>
                    <div class="input-wrap">
                        <div class="input-wrap-x2">
                            <div *ngIf="SelectedCheckinItem?.encounterType?.name == 'In-Patient'">
                                <div style="width:150px;margin-right:10px">
                                    <span class="inner-label">Date of Admission:</span>
                                    <span>{{SelectedCheckinItem.confirmation|date}}</span>
                                    <!-- <my-date-picker name="admissionDate" [options]="myDatePickerOptions" [selDate]="today" formControlName="admissionDate"></my-date-picker> -->
                                </div>
                                <div style="width:150px">
                                    <span class="inner-label">Date of Discharge:</span>
                                    <my-date-picker name="dischargeDate" [options]="myDatePickerOptions" [selDate]="today" formControlName="dischargeDate"></my-date-picker>
                                </div>
                            </div>
                            <div *ngIf="SelectedCheckinItem?.encounterType?.name == Out-Patient">
                                <div style="width:150px">
                                    <span class="inner-label">Date of Visit:</span>
                                    <my-date-picker name="visitDate" [options]="myDatePickerOptions" [selDate]="today" formControlName="visitDate"></my-date-picker>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            <!-- <div class="frm-item-wrap">
                <label class="label">Date of Entry</label>
                <div style="width:300px;" class="input-wrap">
                    <my-date-picker name="entryDate" [options]="myDatePickerOptions" [selDate]="today" formControlName="entryDate"></my-date-picker>
                    <small class="alert-label" [hidden]="claimsFormGroup.controls.entryDate.valid || claimsFormGroup.controls.entryDate.pristine">
                        This is a required field.
                    </small>
                </div>
            </div> -->
            <div class="frm-item-wrap">
                <label class="label">Claim Type</label>
                <div class="input-wrap">
                    <select formControlName="claimType" class="form-control">
                        <option value="" selected>Select...</option>
                        <option *ngFor="let item of claimTypesItems" [ngValue]="item.name" >{{ item.name }}</option>
                    </select>
                </div>
                <small class="alert-label" [hidden]="claimsFormGroup.controls.claimType.valid || claimsFormGroup.controls.claimType.pristine">
                        Choose state from the dropdown.
                    </small>
            </div>
            <div class="frm-item-wrap" *ngIf="claimsFormGroup.controls.claimType.value == 'Fees for Service'">
                <label class="label">Authorization Code</label>
                <div class="input-wrap">
                    <input type="text" formControlName="auth" class="form-control">
                </div>
                <small class="alert-label" [hidden]="claimsFormGroup.controls.auth.valid || claimsFormGroup.controls.auth.pristine">
                    This is a required field.
                </small>
            </div>

            <div class="frm-item-wrap">
                <label class="label">Visit Class</label>
                <div class="input-wrap">
                    <select formControlName="visitClass" class="form-control">
                        <option value="" selected>Select...</option>
                        <option *ngFor="let item of visitTypesItems" [ngValue]="item.name" >{{ item.name }}</option>
                    </select>
                </div>
                <small class="alert-label" [hidden]="claimsFormGroup.controls.visitClass.valid || claimsFormGroup.controls.visitClass.pristine">
                    Choose state from the dropdown.
                </small>
            </div>

            <ul class="inpage-tabs">
                <li (click)="tabSymptoms_click()" [class.tab-active]="tab_symptoms">Symptoms</li>
                <li (click)="tabDiagnosis_click()" [class.tab-active]="tab_diagnosis">Diagnosis</li>
                <li (click)="tabProcedures_click()" [class.tab-active]="tab_procedures">Procedures</li>
                <li (click)="tabServices_click()" [class.tab-active]="tab_services">Services</li>
            </ul>

            <div class="tab-content shadow-RB-lite">
                <div *ngIf="tab_complaints" class="tab-pane fade show active">
                    <div class="content-top-bar">
                        <div class="bar-labels">
                            <div>Clinical Information - Complaints</div>
                        </div>

                        <div class="bar-icos">
                            <i (click)="addApprovalClick(e);" class="fa fa-pencil" aria-hidden="true"></i>
                        </div>
                    </div>

                    <div class="frm-subsect">
                        <div class="frm-item-wrap">
                            <label class="label">Symptoms</label>
                            <div class="input-wrap">
                                <div>
                                    <div class="input-wrap-x2">
                                        <div class="searchable-input">
                                            <input style="width:155px;" type="text" formControlName="symptom" class="form-control">
                                            <ul *ngIf="symptomSearchResult" class="search-results">
                                                <li (click)="onSelectSymptom(result)" *ngFor="let result of symptomItems">{{result.name}}</li>
                                            </ul>
                                        </div>
                                        <div class="input-wrap-x2">
                                            <input style="width:50px;" type="text" formControlName="symptomDuration" class="form-control">
                                            <select formControlName="symptomUnit" class="form-control">
                                            <option value="Hour" selected>Minute</option>
                                            <option value="Hour">Hour</option>
                                            <option value="Hour">Day</option>
                                            <option value="Week">Week</option>
                                            <option value="Month">Month</option>
                                            <option value="Year">Year</option>
                                    </select>
                                        </div>
                                    </div>

                                    <div class="btn btn-medium btn-blue-outline" (click)="onAddSymptom()">
                                        <i class="fa fa-plus-circle" aria-hidden="true"></i> ADD symptom
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="tbl-wrap">
                            <table class="table" cellpadding="0" cellspacing="0" border="0.5">
                                <thead class="thead">
                                    <tr class="tr">
                                        <th class="th">symptom</th>
                                        <th class="th">Duration</th>
                                        <th class="th"></th>
                                    </tr>
                                </thead>

                                <tbody class="tbody">
                                    <tr class="tr" *ngFor="let item of symptomLists">
                                        <td class="td">{{item.symptom}}</td>
                                        <td class="td">{{item.duration}} {{item.unit}}</td>
                                        <td><i class="fa fa-times"></i></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <div class="frm-group">



                <div class="frm-item-wrap">
                    <label class="label">Clinical Note</label>
                    <div class="input-wrap" style="width:100%;">
                        <textarea formControlName="clinicalNote" class="form-control-textArea"></textarea>
                    </div>
                    <small class="alert-label" [hidden]="claimsFormGroup.controls.clinicalNote.valid || claimsFormGroup.controls.clinicalNote.pristine">
                      This is a required field.
                  </small>
                </div>

                <div class="frm-subsect">
                    <div class="frm-item-wrap">
                        <label class="label">Diagnosis</label>
                        <div class="input-wrap">
                            <div class="searchable-input">
                                <input style="width:300px" type="text" formControlName="diagnosis" class="form-control">
                                <ul *ngIf="diagnosisSearchResult" class="search-results">
                                    <li (click)="onSelectDiagnosis(result)" *ngFor="let result of diagnosisItems">{{result.name}}</li>
                                </ul>

                                <div class="btn btn-medium btn-blue-outline" (click)="onAddDiagnosis()">
                                    <i class="fa fa-plus-circle" aria-hidden="true"></i> ADD DIAGNOSIS
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="tbl-wrap">
                        <table class="table" cellpadding="0" cellspacing="0" border="0.5">
                            <thead class="thead">
                                <tr class="tr">
                                    <th class="th">Diagnosis</th>
                                    <th class="th"></th>
                                </tr>
                            </thead>

                            <tbody class="tbody">
                                <tr class="tr" *ngFor="let item of diagnosisLists">
                                    <td class="td">{{item.diagnosis}}</td>
                                    <td><i class="fa fa-times"></i></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="frm-subsect">
                    <div class="frm-item-wrap">
                        <label class="label">Investigations</label>
                        <div class="input-wrap">
                            <div class="searchable-input">
                                <input style="width:300px;" type="text" formControlName="investigations" class="form-control">
                                <ul *ngIf="investigationSearchResult" class="search-results">
                                    <li (click)="onSelectInvestigation(result)" *ngFor="let result of investigationItems">{{result.name}}</li>
                                </ul>
                                <div class="btn btn-medium btn-blue-outline" (click)="onAddInvestigation()">
                                    <i class="fa fa-plus-circle" aria-hidden="true"></i> ADD INVESTIGATION
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="tbl-wrap">
                        <table class="table" cellpadding="0" cellspacing="0" border="0.5">
                            <thead class="thead">
                                <tr class="tr">
                                    <th class="th">Investigation</th>
                                    <th class="th"></th>
                                </tr>
                            </thead>

                            <tbody class="tbody">
                                <tr class="tr" *ngFor="let item of investigationList">
                                    <td class="td">{{item.investigation}}</td>
                                    <td><i class="fa fa-times"></i></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div class="frm-group">
                <div class="frm-title">Treatment</div>

                <div class="frm-subsect">
                    <div class="frm-item-wrap">
                        <label class="label">Drug</label>
                        <div class="input-wrap">
                            <div>
                                <div class="input-wrap-x2">
                                    <div class="searchable-input">
                                        <input style="width:155px;" type="text" formControlName="drug" class="form-control">
                                        <ul *ngIf="drugSearchResult" class="search-results">
                                            <li (click)="onSelectDrug(result)" *ngFor="let result of drugItems">{{result.name}}</li>
                                        </ul>
                                    </div>
                                    <div class="input-wrap-x2">
                                        <input style="width:50px;" type="text" formControlName="drugQty" class="form-control">
                                        <select formControlName="drugUnit" class="form-control">
                                    <option value="Packs" selected>Packs</option>
                                    <option value="Sacket">Sacket</option>
                                </select>
                                    </div>
                                </div>

                                <div class="btn btn-medium btn-blue-outline" (click)="onAddDrug()">
                                    <i class="fa fa-plus-circle" aria-hidden="true"></i> ADD DRUG
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="tbl-wrap">
                        <table class="table" cellpadding="0" cellspacing="0" border="0.5">
                            <thead class="thead">
                                <tr class="tr">
                                    <th class="th">Drug</th>
                                    <th class="th">Quantity</th>
                                    <th class="th"></th>
                                </tr>
                            </thead>

                            <tbody class="tbody">
                                <tr class="tr" *ngFor="let item of drugList">
                                    <th class="td">{{item.drug}}</th>
                                    <th class="td">{{item.quantity}} {{item.unit}}</th>
                                    <td><i class="fa fa-times"></i></td>
                                </tr>

                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="frm-subsect">
                    <div class="frm-item-wrap">
                        <label class="label">Procedure</label>
                        <div class="input-wrap">
                            <div class="searchable-input">
                                <input style="width:300px;" type="text" formControlName="procedure" class="form-control">

                                <ul *ngIf="procedureSearchResult" class="search-results">
                                    <li (click)="onSelectProcedure(result)" *ngFor="let result of procedureItems">{{result.name}}</li>
                                </ul>

                                <div class="btn btn-medium btn-blue-outline" (click)="onAddProcedure()">
                                    <i class="fa fa-plus-circle" aria-hidden="true"></i> ADD PROCEDURE
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="tbl-wrap">
                        <table class="table" cellpadding="0" cellspacing="0" border="0.5">
                            <thead class="thead">
                                <tr class="tr">
                                    <th class="th">Prcedure</th>
                                    <th class="th"></th>
                                </tr>
                            </thead>

                            <tbody class="tbody">
                                <tr class="tr" *ngFor="let item of procedureList">
                                    <td class="td">{{item.procedure}}</td>
                                    <td><i class="fa fa-times"></i></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div class="frm-group">
                <div class="frm-title">Upload Document</div>

                <div class="frm-subsect">
                    <div class="frm-item-wrap">
                        <div class="input-wrap">
                            <button class="btn btn-medium btn-blue"><i class="fa fa-file"></i>Select File</button>
                        </div>
                    </div>

                    <div class="tbl-wrap">
                        <table class="table" cellpadding="0" cellspacing="0" border="0.5">
                            <thead class="thead">
                                <tr class="tr">
                                    <th class="th">File Name</th>
                                    <th class="th"></th>
                                </tr>
                            </thead>

                            <tbody class="tbody">
                                <tr class="tr">
                                    <!-- <td class="td"></td>
                                    <td><i class="fa fa-times"></i></td> -->
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div class="frm-item-wrap">
                <label class="label">Claims Note</label>
                <div class="input-wrap" style="width:100%;">
                    <textarea formControlName="claimsNote" class="form-control-textArea"></textarea>
                </div>
                <small class="alert-label" [hidden]="claimsFormGroup.controls.claimsNote.valid || claimsFormGroup.controls.claimsNote.pristine">
                    This is a required field.
                </small>
            </div>
            <div class="frm-item-wrap">
                <label class="label">Name of Doctor</label>
                <div class="input-wrap">
                    <input type="email" formControlName="medicalPersonelName" class="form-control">
                </div>
                <small class="alert-label" [hidden]="claimsFormGroup.controls.medicalPersonelName.valid || claimsFormGroup.controls.medicalPersonelName.pristine">
                    This is a required field.
                </small>
            </div>

            <button class="btn btn-medium btn-blue cta" (click)="onSendClaim()">
                <span>
                    <div [hidden] = "isProcessing">
                            Save
                    </div>
                    <div [hidden] = "!isProcessing">
                            Processing... <i class='fa fa-spinner fa-spin'></i>
                    </div>
                </span>
            </button>
        </form>
    </section>
</div>